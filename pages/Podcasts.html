<!DOCTYPE html>
<html lang="en" data-theme-style="calm" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Podcasts - Mugdha Vairagade</title>

    <!-- Favicon -->
    <link rel="icon" type="image/vnd.microsoft.icon" href="../assets/favicon/iopm5-km6uc-002.ico">
    <link rel="shortcut icon" type="image/x-icon" href="../assets/favicon/iopm5-km6uc-002.ico">

    <!-- Apple Touch Icon -->
    <link rel="apple-touch-icon" href="../assets/favicon/iopm5-km6uc-003.ico">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <!-- External CSS Files -->
    <link rel="stylesheet" href="../assets/css/base.css">
    <link rel="stylesheet" href="../assets/css/layout.css">
    <link rel="stylesheet" href="../assets/css/components.css">
    <link rel="stylesheet" href="../assets/css/animations.css">

    <!-- Theme System CSS -->
    <link rel="stylesheet" href="../assets/css/theme-jazzy.css">
    <link rel="stylesheet" href="../assets/css/theme-calm.css">
    <link rel="stylesheet" href="../assets/css/theme-switcher.css">

    <!-- Search UI CSS -->
    <link rel="stylesheet" href="../assets/css/search-ui.css">

    <!-- Search Libraries -->
    <script src="https://unpkg.com/lunr/lunr.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/fuse.js@6.6.2"></script>


    <!-- Portfolio Data -->
    <script src="../assets/js/portfolio_data.js"></script>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-9HL4T713SQ"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-9HL4T713SQ');
    </script>

    <!-- Structured Data for Podcasts -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "PodcastSeries",
        "name": "Podcasts by Mugdha Vairagade",
        "description": "Podcasts featuring discussions on AI, technical writing, and technology innovation",
        "author": {
            "@type": "Person",
            "name": "Mugdha Vairagade",
            "url": "https://www.vmugdha.in"
        }
    }
    </script>

    <!-- Meta tags -->
    <meta name="description" content="Explore podcasts featuring Mugdha Vairagade discussing AI, technical writing, UX design, and technology innovation.">
    <meta name="keywords" content="podcasts, AI, technical writing, UX design, Mugdha Vairagade, technology podcasts, innovation, machine learning">
    <meta name="author" content="Mugdha Vairagade">
    <meta name="robots" content="index, follow">

    <!-- Open Graph meta tags -->
    <meta property="og:title" content="Podcasts - Mugdha Vairagade">
    <meta property="og:description" content="Explore podcasts featuring Mugdha Vairagade discussing AI, technical writing, and technology innovation">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.vmugdha.in/Podcasts.html">

    <style>
        /* Page-specific styles for Podcasts */

        /* Hero Section */
        .hero {
            min-height: 60vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            position: relative;
            overflow: hidden;
            padding-top: 80px;
        }

        .hero-content {
            text-align: center;
            z-index: 1;
            padding: 2rem;
            animation: fadeInUp 1s ease;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .hero h1 {
            font-size: 3rem;
            color: var(--white);
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .hero h2 {
            font-size: 1.5rem;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 1rem;
            font-weight: 300;
        }

        /* Content Section */
        .content-section {
            padding: 4rem 5%;
            max-width: 1400px;
            margin: 0 auto;
        }

        .section-title {
            font-size: 2.5rem;
            color: var(--text-color);
            margin-bottom: 2rem;
            text-align: center;
            position: relative;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 4px;
            background-color: var(--primary-color);
            border-radius: 2px;
        }

        /* Podcast Container */
        .podcast-container {
            margin-top: 2rem;
            margin-bottom: 2rem;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            align-items: stretch;
        }

        .podcast-card {
            background-color: var(--light-bg);
            border-radius: 15px;
            box-shadow: var(--shadow);
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            display: flex;
            flex-direction: column;
            height: 100%;
        }

        .podcast-card:hover {
            transform: scale(1.03);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
        }

        .podcast-card:has(.podcast-expanded-content.active) {
            transform: none;
        }

        .podcast-card:has(.podcast-expanded-content.active):hover {
            transform: scale(1.01);
        }

        .podcast-banner-container {
            width: 100%;
            height: 250px;
            background-color: #f8f9fa;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1rem;
            overflow: hidden;
        }

        .podcast-banner {
            max-width: 100%;
            max-height: 100%;
            width: auto;
            height: auto;
            object-fit: contain;
        }

        .podcast-full {
            background-color: var(--light-bg);
            border-radius: 12px;
            box-shadow: var(--shadow);
            overflow: hidden;
            margin-bottom: 2rem;
        }

        .podcast-info {
            padding: 1.5rem;
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .podcast-info-top {
            flex: 0 0 auto;
        }

        .podcast-info-bottom {
            flex: 0 0 auto;
            margin-top: auto;
        }

        .podcast-header {
            margin-bottom: 1rem;
        }

        .podcast-title {
            font-size: 1.2rem;
            color: var(--text-color);
            margin-bottom: 0.5rem;
            font-weight: 700;
            line-height: 1.4;
        }

        .podcast-description-card {
            color: var(--secondary-text-color);
            font-size: 0.9rem;
            line-height: 1.6;
        }

        .podcast-expand-btn {
            background-color: var(--primary-color);
            color: var(--white);
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.95rem;
            transition: var(--transition);
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .podcast-expand-btn:hover {
            background-color: var(--secondary-color);
            transform: translateY(-2px);
        }

        .podcast-actions {
            display: flex;
            gap: 0.75rem;
            margin-bottom: 1rem;
        }

        .podcast-share-btn {
            background-color: var(--white);
            color: var(--primary-color);
            border: 2px solid var(--primary-color);
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.95rem;
            transition: var(--transition);
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .podcast-share-btn:hover {
            background-color: var(--primary-color);
            color: var(--white);
            transform: translateY(-2px);
        }

        .podcast-share-btn.copied {
            background-color: #10b981;
            color: var(--white);
            border-color: #10b981;
        }

        .podcast-expanded-content {
            display: none;
            padding: 1.5rem;
            background-color: var(--white);
            border-top: 2px solid var(--light-bg);
            animation: slideDown 0.3s ease;
        }

        .podcast-expanded-content.active {
            display: block;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                max-height: 0;
            }
            to {
                opacity: 1;
                max-height: 2000px;
            }
        }

        .podcast-meta {
            display: flex;
            gap: 1.5rem;
            flex-wrap: wrap;
            margin-bottom: 0.75rem;
            color: var(--secondary-text-color);
            font-size: 0.9rem;
        }

        .podcast-meta-item {
            display: flex;
            align-items: center;
            gap: 0.4rem;
        }

        .podcast-description {
            color: var(--secondary-text-color);
            line-height: 1.6;
            margin-bottom: 1rem;
            font-size: 0.95rem;
        }

        .podcast-resources {
            margin-top: 1rem;
            padding: 1rem;
            background-color: var(--light-bg);
            border-radius: 8px;
            border-left: 4px solid var(--primary-color);
        }

        .podcast-resources h4 {
            color: var(--text-color);
            font-size: 1rem;
            margin-bottom: 0.5rem;
            font-weight: 600;
        }

        .podcast-resources ul {
            list-style: none;
            padding-left: 0;
            margin: 0;
        }

        .podcast-resources li {
            margin-bottom: 0.5rem;
            padding-left: 1.5rem;
            position: relative;
            font-size: 0.9rem;
        }

        .podcast-resources li:before {
            content: 'â†’';
            position: absolute;
            left: 0;
            color: var(--primary-color);
            font-weight: bold;
        }

        .podcast-resources a {
            color: var(--primary-color);
            text-decoration: none;
            font-weight: 500;
            transition: var(--transition);
        }

        .podcast-resources a:hover {
            color: var(--secondary-color);
            text-decoration: underline;
        }

        .podcast-topics {
            display: flex;
            gap: 0.4rem;
            flex-wrap: wrap;
            margin-bottom: 1rem;
        }

        .topic-tag {
            background-color: var(--primary-color);
            color: var(--white);
            padding: 0.3rem 0.7rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        /* Audio Player Container */
        .audio-player-container {
            background-color: var(--white);
            border-radius: 12px;
            padding: 1rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        }

        .audio-player {
            width: 100%;
            outline: none;
        }

        /* Transcript Section */
        .transcript-section {
            background-color: var(--white);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        }

        .transcript-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding-bottom: 0.75rem;
            border-bottom: 2px solid var(--light-bg);
        }

        .transcript-header h3 {
            font-size: 1.2rem;
            color: var(--text-color);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .transcript-toggle {
            background-color: var(--primary-color);
            color: var(--white);
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            font-size: 0.9rem;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .transcript-toggle:hover {
            background-color: var(--secondary-color);
            transform: translateY(-2px);
        }

        .transcript-content {
            max-height: 400px;
            overflow-y: auto;
            padding: 0.75rem;
            background-color: var(--light-bg);
            border-radius: 8px;
        }

        .transcript-content.collapsed {
            display: none;
        }

        .transcript-line {
            padding: 0.5rem;
            margin-bottom: 0.4rem;
            border-radius: 6px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            gap: 0.75rem;
            font-size: 0.9rem;
        }

        .transcript-line:hover {
            background-color: rgba(37, 99, 235, 0.1);
        }

        .transcript-line.active {
            background-color: var(--highlight-color);
            font-weight: 500;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .transcript-timestamp {
            color: var(--primary-color);
            font-weight: 600;
            font-size: 0.85rem;
            min-width: 70px;
            flex-shrink: 0;
        }

        .transcript-text {
            color: var(--text-color);
            line-height: 1.5;
        }

        /* Coming Soon Section */
        .coming-soon {
            text-align: center;
            padding: 3rem 2rem;
            background-color: var(--light-bg);
            border-radius: 15px;
            margin-top: 2rem;
        }

        .coming-soon h3 {
            color: var(--text-color);
            margin-bottom: 1rem;
            font-size: 1.5rem;
        }

        .coming-soon p {
            color: var(--secondary-text-color);
            font-size: 1.1rem;
        }

        /* Footer */
        footer {
            background-color: #1f2937;
            color: var(--footer-text-color);
            text-align: center;
            padding: 2rem;
            margin-top: 3rem;
        }

        /* Mobile Responsiveness */
        .mobile-menu-toggle {
            display: none;
            flex-direction: column;
            cursor: pointer;
        }

        .mobile-menu-toggle span {
            width: 25px;
            height: 3px;
            background-color: var(--text-color);
            margin: 3px 0;
            transition: var(--transition);
        }

        @media (max-width: 768px) {
            .mobile-menu-toggle {
                display: flex;
            }

            .nav-links {
                display: none;
                position: absolute;
                top: 100%;
                left: 0;
                width: 100%;
                background-color: var(--white);
                flex-direction: column;
                padding: 1rem;
                box-shadow: var(--shadow);
            }

            .nav-links.active {
                display: flex;
            }

            .hero h1 {
                font-size: 2.5rem;
            }

            .hero h2 {
                font-size: 1.3rem;
            }

            .podcast-container {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }

            .podcast-banner-container {
                height: 200px;
            }

            .podcast-title {
                font-size: 1.1rem;
            }

            .podcast-description-card {
                font-size: 0.85rem;
            }

            .podcast-meta {
                font-size: 0.85rem;
                flex-direction: column;
                gap: 0.5rem;
            }

            .podcast-actions {
                flex-direction: column;
                gap: 0.5rem;
            }

            .podcast-expand-btn,
            .podcast-share-btn {
                width: 100%;
                padding: 0.6rem 1rem;
                font-size: 0.9rem;
            }

            .transcript-header {
                flex-direction: column;
                gap: 1rem;
                align-items: flex-start;
            }

            .transcript-line {
                flex-direction: column;
                gap: 0.5rem;
            }

            .transcript-timestamp {
                min-width: auto;
            }
        }

        /* Loading Animation */
        .fade-in {
            opacity: 0;
            transform: translateY(20px);
            animation: fadeIn 0.8s ease forwards;
        }

        @keyframes fadeIn {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Scrollbar Styling */
        .transcript-content::-webkit-scrollbar {
            width: 8px;
        }

        .transcript-content::-webkit-scrollbar-track {
            background: var(--light-bg);
            border-radius: 4px;
        }

        .transcript-content::-webkit-scrollbar-thumb {
            background: var(--primary-color);
            border-radius: 4px;
        }

        .transcript-content::-webkit-scrollbar-thumb:hover {
            background: var(--secondary-color);
        }

        /* Slide Deck Section - LinkedIn Style */
        .slide-deck-section {
            background-color: var(--white);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
            transition: var(--transition);
        }

        .slide-deck-section:hover {
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.12);
        }

        .slide-deck-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding-bottom: 0.75rem;
            border-bottom: 2px solid var(--light-bg);
        }

        .slide-deck-header h3 {
            font-size: 1.2rem;
            color: var(--text-color);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .slide-counter {
            font-size: 0.9rem;
            color: var(--secondary-text-color);
            font-weight: 500;
        }

        .slide-counter #current-slide-conversation-scott-abel {
            color: var(--primary-color);
            font-weight: 600;
        }

        /* Carousel Container */
        .slide-deck-carousel {
            position: relative;
            background-color: var(--light-bg);
            border-radius: 8px;
            overflow: hidden;
        }

        .slide-canvas-container {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 0.75rem;
            min-height: 350px;
            background-color: #f8f9fa;
        }

        .slide-canvas {
            max-width: 100%;
            height: auto;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            border-radius: 4px;
        }

        /* Navigation Buttons - LinkedIn Style */
        .carousel-nav-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background-color: rgba(0, 0, 0, 0.5);
            color: white;
            border: none;
            width: 48px;
            height: 48px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            transition: var(--transition);
            z-index: 10;
            opacity: 0;
        }

        .slide-deck-carousel:hover .carousel-nav-btn {
            opacity: 1;
        }

        .carousel-nav-btn:hover {
            background-color: rgba(0, 0, 0, 0.8);
            transform: translateY(-50%) scale(1.1);
        }

        .carousel-nav-btn.prev-btn {
            left: 1rem;
        }

        .carousel-nav-btn.next-btn {
            right: 1rem;
        }

        /* Dot Indicators - LinkedIn Style */
        .carousel-dots {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            padding: 0.75rem 0;
        }

        .dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: var(--secondary-text-color);
            cursor: pointer;
            transition: var(--transition);
            opacity: 0.4;
        }

        .dot:hover {
            opacity: 0.7;
            transform: scale(1.2);
        }

        .dot.active {
            background-color: var(--primary-color);
            opacity: 1;
            transform: scale(1.3);
        }

        /* Loading State */
        .slide-deck-loading {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(255, 255, 255, 0.95);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 20;
        }

        .slide-deck-loading i {
            font-size: 3rem;
            color: var(--primary-color);
            margin-bottom: 1rem;
        }

        .slide-deck-loading p {
            color: var(--text-color);
            font-size: 1.1rem;
        }

        /* Dark Mode Support */
        [data-theme="dark"] .podcast-banner-container {
            background-color: #1a1a1a;
        }

        [data-theme="dark"] .slide-canvas-container {
            background-color: #1a1a1a;
        }

        [data-theme="dark"] .carousel-nav-btn {
            background-color: rgba(255, 255, 255, 0.2);
        }

        [data-theme="dark"] .carousel-nav-btn:hover {
            background-color: rgba(255, 255, 255, 0.3);
        }

        [data-theme="dark"] .slide-deck-loading {
            background-color: rgba(17, 24, 39, 0.95);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .podcast-info {
                padding: 1rem;
            }

            .podcast-title {
                font-size: 1.3rem;
            }

            .podcast-banner {
                max-height: 200px;
            }

            .slide-deck-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 0.75rem;
            }

            .slide-canvas-container {
                min-height: 250px;
                padding: 0.5rem;
            }

            .carousel-nav-btn {
                width: 40px;
                height: 40px;
                font-size: 1rem;
                opacity: 0.8;
            }

            .carousel-nav-btn.prev-btn {
                left: 0.5rem;
            }

            .carousel-nav-btn.next-btn {
                right: 0.5rem;
            }

            .dot {
                width: 10px;
                height: 10px;
            }

            .transcript-section {
                padding: 1rem;
            }

            .audio-player-container {
                padding: 0.75rem;
            }
        }

        @media (max-width: 480px) {
            .podcast-info {
                padding: 0.75rem;
            }

            .podcast-title {
                font-size: 1.2rem;
            }

            .slide-deck-section {
                padding: 1rem;
            }

            .slide-deck-header h3 {
                font-size: 1.1rem;
            }

            .slide-counter {
                font-size: 0.85rem;
            }

            .transcript-header h3 {
                font-size: 1.1rem;
            }
        }
    </style>
</head>
<body>
    <div id="header-container"></div>

    <!-- Hero Section -->
    <section class="hero" aria-labelledby="hero-heading">
        <div class="hero-content">
            <h1 id="hero-heading">Podcasts</h1>
            <h2>Conversations on AI, Technical Writing, and Innovation</h2>
        </div>
    </section>

    <!-- Main Content -->
    <main role="main">
        <section class="content-section">
            <h2 class="section-title">Featured Podcast Episodes</h2>

            <div id="podcast-container" class="podcast-container">
                <!-- Podcasts will be dynamically rendered here -->
            </div>

            <!-- Coming Soon Message -->
            <div class="coming-soon">
                <h3>More Podcasts Coming Soon</h3>
                <p>Stay tuned for upcoming podcast appearances and discussions on AI, technical writing, UX design, and technology innovation.</p>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <div id="footer-container"></div>

    <script src="../assets/js/navigation.js"></script>
    <script src="../assets/js/shared-components.js"></script>
    <script>
        // Global variables for transcript management
        let currentAudio = null;
        let transcriptData = {};
        let currentPodcastId = null;

        // Parse SRT file
        function parseSRT(srtText) {
            if (!srtText || srtText.trim().length === 0) {
                console.error('Empty SRT text provided');
                return [];
            }

            // Normalize line endings
            srtText = srtText.replace(/\r\n/g, '\n').replace(/\r/g, '\n');
            const lines = srtText.trim().split('\n');
            const subtitles = [];
            let i = 0;

            console.log('Parsing SRT with', lines.length, 'lines');

            while (i < lines.length) {
                const line = lines[i].trim();

                // Skip empty lines
                if (line === '') {
                    i++;
                    continue;
                }

                // Check for sequence number
                if (line.match(/^\d+$/)) {
                    i++;

                    // Parse timestamp
                    if (i < lines.length) {
                        const timeMatch = lines[i].match(/(\d{2}:\d{2}:\d{2},\d{3})\s*-->\s*(\d{2}:\d{2}:\d{2},\d{3})/);
                        if (timeMatch) {
                            const startTime = parseTimestamp(timeMatch[1]);
                            const endTime = parseTimestamp(timeMatch[2]);
                            i++;

                            // Parse text (may span multiple lines)
                            let text = '';
                            while (i < lines.length && lines[i].trim() !== '') {
                                text += (text ? ' ' : '') + lines[i].trim();
                                i++;
                            }

                            if (text) {
                                subtitles.push({
                                    start: startTime,
                                    end: endTime,
                                    text: text,
                                    displayTime: formatTimestamp(startTime)
                                });
                            }
                        } else {
                            console.warn('Invalid timestamp format at line', i, ':', lines[i]);
                            i++;
                        }
                    }
                } else {
                    i++;
                }
            }

            console.log('Parsed', subtitles.length, 'subtitle entries');
            return subtitles;
        }

        // Parse timestamp from SRT format (HH:MM:SS,mmm) to seconds
        function parseTimestamp(timestamp) {
            const parts = timestamp.split(':');
            const hours = parseInt(parts[0]);
            const minutes = parseInt(parts[1]);
            const secondsParts = parts[2].split(',');
            const seconds = parseInt(secondsParts[0]);
            const milliseconds = parseInt(secondsParts[1]);

            return hours * 3600 + minutes * 60 + seconds + milliseconds / 1000;
        }

        // Format seconds to MM:SS display format
        function formatTimestamp(seconds) {
            const mins = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
        }

        // Load and parse transcript
        async function loadTranscript(podcastId, transcriptFile) {
            const transcriptContent = document.getElementById(`transcript-content-${podcastId}`);

            try {
                console.log('Loading transcript for:', podcastId, 'from file:', transcriptFile);

                // Fetch the SRT file dynamically
                const response = await fetch(transcriptFile);

                if (!response.ok) {
                    throw new Error(`Failed to fetch transcript file: ${response.statusText}`);
                }

                const srtText = await response.text();
                console.log('SRT text loaded, length:', srtText.length);

                transcriptData[podcastId] = parseSRT(srtText);
                console.log('Parsed subtitles:', transcriptData[podcastId].length);

                if (transcriptData[podcastId].length === 0) {
                    throw new Error('No subtitles parsed from SRT file');
                }

                renderTranscript(podcastId);
            } catch (error) {
                console.error('Error loading transcript:', error);
                if (transcriptContent) {
                    transcriptContent.innerHTML = `
                        <div style="text-align: center; padding: 2rem; color: var(--secondary-text-color);">
                            <i class="fas fa-clock" style="font-size: 2rem; margin-bottom: 1rem; display: block; color: var(--primary-color);"></i>
                            <p style="color: var(--text-color); font-weight: 500; font-size: 1rem;">Transcript will be available soon.</p>
                        </div>
                    `;
                }
            }
        }

        // Render transcript
        function renderTranscript(podcastId) {
            const transcriptContent = document.getElementById(`transcript-content-${podcastId}`);

            if (!transcriptContent) {
                console.error('Transcript content element not found for:', podcastId);
                return;
            }

            if (!transcriptData[podcastId] || transcriptData[podcastId].length === 0) {
                console.error('No transcript data available for:', podcastId);
                transcriptContent.innerHTML = '<p style="text-align: center; color: var(--secondary-text-color);">No transcript data available.</p>';
                return;
            }

            console.log('Rendering transcript with', transcriptData[podcastId].length, 'lines');

            const html = transcriptData[podcastId].map((item, index) => `
                <div class="transcript-line" data-index="${index}" data-time="${item.start}">
                    <div class="transcript-timestamp">${item.displayTime}</div>
                    <div class="transcript-text">${item.text}</div>
                </div>
            `).join('');

            transcriptContent.innerHTML = html;

            // Add click handlers to transcript lines
            transcriptContent.querySelectorAll('.transcript-line').forEach(line => {
                line.addEventListener('click', function() {
                    const time = parseFloat(this.dataset.time);
                    const audio = document.getElementById(`audio-${podcastId}`);
                    if (audio) {
                        audio.currentTime = time;
                        audio.play();
                    }
                });
            });

            console.log('Transcript rendered successfully');
        }

        // Update active transcript line based on audio time
        function updateTranscriptHighlight(podcastId, currentTime) {
            if (!transcriptData[podcastId]) return;

            const lines = document.querySelectorAll(`#transcript-content-${podcastId} .transcript-line`);
            let activeIndex = -1;

            // Find the current active subtitle
            transcriptData[podcastId].forEach((item, index) => {
                if (currentTime >= item.start && currentTime <= item.end) {
                    activeIndex = index;
                }
            });

            // Update highlighting
            lines.forEach((line, index) => {
                if (index === activeIndex) {
                    line.classList.add('active');
                    // Scroll into view if needed
                    line.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                } else {
                    line.classList.remove('active');
                }
            });
        }

        // Toggle transcript visibility
        function toggleTranscript(podcastId) {
            const content = document.getElementById(`transcript-content-${podcastId}`);
            const button = document.querySelector(`#podcast-${podcastId} .transcript-toggle`);

            if (content.classList.contains('collapsed')) {
                content.classList.remove('collapsed');
                button.innerHTML = '<i class="fas fa-chevron-up"></i> Hide Transcript';
            } else {
                content.classList.add('collapsed');
                button.innerHTML = '<i class="fas fa-chevron-down"></i> Show Transcript';
            }
        }

        // Extract plain text description (before the resources div)
        function getPlainDescription(description) {
            // Split by the resources div and get the text before it
            const parts = description.split('<div class="podcast-resources">');
            return parts[0].trim();
        }

        // Get the correct MIME type for audio files
        function getAudioMimeType(filename) {
            if (!filename) return 'audio/mpeg';
            const ext = filename.split('.').pop().toLowerCase();
            const mimeTypes = {
                'mp3': 'audio/mpeg',
                'm4a': 'audio/mp4',
                'mp4': 'audio/mp4',
                'wav': 'audio/wav',
                'ogg': 'audio/ogg',
                'webm': 'audio/webm',
                'aac': 'audio/aac'
            };
            return mimeTypes[ext] || 'audio/mpeg';
        }

        // Toggle podcast expansion
        function togglePodcast(podcastId, skipScroll = false) {
            const expandedContent = document.getElementById(`expanded-${podcastId}`);
            const button = document.querySelector(`#podcast-card-${podcastId} .podcast-expand-btn`);

            if (expandedContent.classList.contains('active')) {
                expandedContent.classList.remove('active');
                button.innerHTML = '<i class="fas fa-chevron-down"></i> View Details';
            } else {
                expandedContent.classList.add('active');
                button.innerHTML = '<i class="fas fa-chevron-up"></i> Hide Details';

                // Load transcript and slides if not already loaded
                const podcast = portfolioData.podcasts.find(p => p.id === podcastId);
                if (podcast && !expandedContent.dataset.loaded) {
                    loadTranscript(podcastId, podcast.transcriptFile);
                    if (podcast.slideCount) {
                        initializeSlides(podcastId, podcast.slidesPath, podcast.slideCount);
                    }
                    expandedContent.dataset.loaded = 'true';
                }

                // Scroll to podcast card if not skipped
                if (!skipScroll) {
                    const card = document.getElementById(`podcast-card-${podcastId}`);
                    if (card) {
                        setTimeout(() => {
                            card.scrollIntoView({ behavior: 'smooth', block: 'start' });
                        }, 100);
                    }
                }
            }
        }

        // Share podcast - copy link to clipboard
        function sharePodcast(podcastId) {
            const url = `${window.location.origin}${window.location.pathname}#${podcastId}`;

            // Try to use the Clipboard API
            if (navigator.clipboard && navigator.clipboard.writeText) {
                navigator.clipboard.writeText(url).then(() => {
                    showShareSuccess(podcastId);
                }).catch(() => {
                    // Fallback for older browsers
                    fallbackCopyToClipboard(url, podcastId);
                });
            } else {
                // Fallback for older browsers
                fallbackCopyToClipboard(url, podcastId);
            }
        }

        // Fallback copy method for older browsers
        function fallbackCopyToClipboard(text, podcastId) {
            const textArea = document.createElement('textarea');
            textArea.value = text;
            textArea.style.position = 'fixed';
            textArea.style.left = '-999999px';
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();

            try {
                document.execCommand('copy');
                showShareSuccess(podcastId);
            } catch (err) {
                console.error('Failed to copy:', err);
                alert('Failed to copy link. Please copy manually: ' + text);
            }

            document.body.removeChild(textArea);
        }

        // Show success feedback when link is copied
        function showShareSuccess(podcastId) {
            const button = document.getElementById(`share-btn-${podcastId}`);
            const originalHTML = button.innerHTML;

            button.classList.add('copied');
            button.innerHTML = '<i class="fas fa-check"></i> Link Copied!';

            setTimeout(() => {
                button.classList.remove('copied');
                button.innerHTML = originalHTML;
            }, 2000);
        }

        // Handle URL hash on page load
        function handleURLHash() {
            const hash = window.location.hash.substring(1); // Remove the # symbol
            if (hash) {
                // Check if the hash corresponds to a podcast
                const podcast = portfolioData.podcasts.find(p => p.id === hash);
                if (podcast) {
                    // Wait for the DOM to be fully rendered
                    setTimeout(() => {
                        togglePodcast(hash);
                        const card = document.getElementById(`podcast-card-${hash}`);
                        if (card) {
                            card.scrollIntoView({ behavior: 'smooth', block: 'start' });
                        }
                    }, 500);
                }
            }
        }

        // Render podcasts
        function renderPodcasts() {
            console.log('renderPodcasts called');

            if (!portfolioData) {
                console.error('Portfolio data not found');
                return;
            }

            if (!portfolioData.podcasts) {
                console.error('Podcasts array not found in portfolio data');
                console.log('Available keys:', Object.keys(portfolioData));
                return;
            }

            console.log('Found', portfolioData.podcasts.length, 'podcast(s)');

            const container = document.getElementById('podcast-container');

            if (!container) {
                console.error('Podcast container element not found');
                return;
            }

            const html = portfolioData.podcasts.map(podcast => `
                <div class="podcast-card fade-in" id="${podcast.id}">
                    <div class="podcast-banner-container">
                        <img src="${podcast.banner}" alt="${podcast.title}" class="podcast-banner">
                    </div>

                    <div class="podcast-info">
                        <div class="podcast-info-top">
                            <h3 class="podcast-title">${podcast.title}</h3>

                            <div class="podcast-meta" style="margin-bottom: 0.75rem;">
                                <div class="podcast-meta-item">
                                    <i class="fas fa-calendar"></i>
                                    <span>${podcast.date}</span>
                                </div>
                                <div class="podcast-meta-item">
                                    <i class="fas fa-microphone"></i>
                                    <span>Host: ${podcast.host}</span>
                                </div>
                                ${podcast.duration !== 'TBD' ? `
                                <div class="podcast-meta-item">
                                    <i class="fas fa-clock"></i>
                                    <span>${podcast.duration}</span>
                                </div>
                                ` : ''}
                            </div>

                            <div class="podcast-description-card">${getPlainDescription(podcast.description)}</div>
                        </div>

                        <div class="podcast-info-bottom">
                            <div class="podcast-topics" style="margin-bottom: 1rem;">
                                ${podcast.topics.map(topic => `
                                    <span class="topic-tag">${topic}</span>
                                `).join('')}
                            </div>

                            <div class="podcast-actions">
                                <button class="podcast-expand-btn" onclick="togglePodcast('${podcast.id}')">
                                    <i class="fas fa-chevron-down"></i> View Details
                                </button>
                                <button class="podcast-share-btn" onclick="sharePodcast('${podcast.id}')" id="share-btn-${podcast.id}">
                                    <i class="fas fa-share-alt"></i> Share
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Expanded Content -->
                    <div class="podcast-expanded-content" id="expanded-${podcast.id}">${podcast.description.includes('<div class="podcast-resources">') ? `
                        <div style="margin-bottom: 1.5rem;">${podcast.description.split('<div class="podcast-resources">')[1].replace('</div>', '').trim()}</div>
                        ` : ''}

                        <!-- Audio Player -->
                        <div class="audio-player-container">
                            <audio
                                id="audio-${podcast.id}"
                                class="audio-player"
                                controls
                                preload="metadata"
                                ontimeupdate="updateTranscriptHighlight('${podcast.id}', this.currentTime)"
                            >
                                <source src="${podcast.audioFile}" type="${getAudioMimeType(podcast.audioFile)}">
                                Your browser does not support the audio element.
                            </audio>
                        </div>

                        <!-- Transcript Section -->
                        <div class="transcript-section">
                            <div class="transcript-header">
                                <h3>
                                    <i class="fas fa-file-alt"></i>
                                    Transcript
                                </h3>
                                <button class="transcript-toggle" onclick="toggleTranscript('${podcast.id}')">
                                    <i class="fas fa-chevron-down"></i>
                                    Show Transcript
                                </button>
                            </div>
                            <div id="transcript-content-${podcast.id}" class="transcript-content collapsed">
                                <p style="text-align: center; color: var(--secondary-text-color);">Loading transcript...</p>
                            </div>
                        </div>

                        ${podcast.slideCount ? `
                        <!-- Slide Deck Section -->
                        <div class="slide-deck-section">
                            <div class="slide-deck-header">
                                <h3><i class="fas fa-images"></i> Summary Slides</h3>
                                <div class="slide-counter" id="slide-counter-${podcast.id}">
                                    <span id="current-slide-${podcast.id}">1</span> / <span id="total-slides-${podcast.id}">${podcast.slideCount}</span>
                                </div>
                            </div>

                            <div class="slide-deck-carousel" id="slide-carousel-${podcast.id}">
                                <div class="slide-canvas-container">
                                    <img id="slide-img-${podcast.id}" class="slide-canvas" src="${podcast.slidesPath}Slide1.PNG" alt="Slide 1">
                                </div>

                                <button class="carousel-nav-btn prev-btn" onclick="navigateSlide('${podcast.id}', -1)" aria-label="Previous slide">
                                    <i class="fas fa-chevron-left" aria-hidden="true"></i>
                                </button>
                                <button class="carousel-nav-btn next-btn" onclick="navigateSlide('${podcast.id}', 1)" aria-label="Next slide">
                                    <i class="fas fa-chevron-right" aria-hidden="true"></i>
                                </button>

                                <div class="carousel-dots" id="carousel-dots-${podcast.id}"></div>
                            </div>
                        </div>
                        ` : ''}
                    </div>
                </div>
            `).join('');

            container.innerHTML = html;

            console.log('Podcasts HTML rendered');
        }

        // Slide Deck State Management
        const slideDeckState = {};

        // Initialize slides for a podcast
        function initializeSlides(podcastId, slidesPath, slideCount) {
            slideDeckState[podcastId] = {
                currentSlide: 1,
                totalSlides: slideCount,
                slidesPath: slidesPath
            };

            // Create dot indicators
            createDotIndicators(podcastId, slideCount);

            console.log(`Initialized ${slideCount} slides for ${podcastId}`);
        }

        // Render a specific slide (show image)
        function renderSlide(podcastId, slideNum) {
            const state = slideDeckState[podcastId];
            if (!state) {
                console.error('Slide state not found for', podcastId);
                return;
            }

            const img = document.getElementById(`slide-img-${podcastId}`);
            if (!img) {
                console.error('Slide image element not found for', podcastId);
                return;
            }

            // Update image source (PowerPoint exports as Slide1.PNG, Slide2.PNG, etc.)
            img.src = `${state.slidesPath}Slide${slideNum}.PNG`;
            img.alt = `Slide ${slideNum}`;

            // Update state and UI
            state.currentSlide = slideNum;
            const currentSlideElement = document.getElementById(`current-slide-${podcastId}`);
            if (currentSlideElement) {
                currentSlideElement.textContent = slideNum;
            }
            updateDotIndicators(podcastId, slideNum);

            console.log(`Showing slide ${slideNum} for ${podcastId}`);
        }

        // Navigate slides (prev/next)
        function navigateSlide(podcastId, direction) {
            const state = slideDeckState[podcastId];
            if (!state) {
                console.error('Slide deck state not found for', podcastId);
                return;
            }

            let newSlide = state.currentSlide + direction;

            // Wrap around
            if (newSlide < 1) newSlide = state.totalSlides;
            if (newSlide > state.totalSlides) newSlide = 1;

            renderSlide(podcastId, newSlide);
        }

        // Go to specific slide
        function goToSlide(podcastId, slideNum) {
            renderSlide(podcastId, slideNum);
        }

        // Create dot indicators
        function createDotIndicators(podcastId, totalSlides) {
            const dotsContainer = document.getElementById(`carousel-dots-${podcastId}`);
            if (!dotsContainer) {
                console.error('Dots container not found for', podcastId);
                return;
            }

            dotsContainer.innerHTML = '';

            // Create dots for all slides
            for (let i = 1; i <= totalSlides; i++) {
                const dot = document.createElement('div');
                dot.className = 'dot';
                if (i === 1) dot.classList.add('active');
                dot.setAttribute('aria-label', `Go to slide ${i}`);
                dot.addEventListener('click', () => goToSlide(podcastId, i));
                dotsContainer.appendChild(dot);
            }

            console.log(`Created ${totalSlides} dot indicators for ${podcastId}`);
        }

        // Update dot indicators
        function updateDotIndicators(podcastId, currentSlide) {
            const dots = document.querySelectorAll(`#carousel-dots-${podcastId} .dot`);
            dots.forEach((dot, index) => {
                if (index + 1 === currentSlide) {
                    dot.classList.add('active');
                } else {
                    dot.classList.remove('active');
                }
            });
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM Content Loaded');
            console.log('portfolioData available:', typeof portfolioData !== 'undefined');

            if (typeof portfolioData !== 'undefined') {
                console.log('portfolioData keys:', Object.keys(portfolioData));
                console.log('portfolioData.podcasts:', portfolioData.podcasts);
            }

            initializeTheme();
            renderPodcasts();

            // Handle URL hash for direct podcast links
            handleURLHash();

            // Listen for hash changes (when user navigates back/forward)
            window.addEventListener('hashchange', handleURLHash);

            // Smooth scroll behavior for anchor links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });

            // Fade in animation on scroll
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.animationDelay = '0.2s';
                        entry.target.style.animationPlayState = 'running';
                    }
                });
            }, observerOptions);

            document.querySelectorAll('.fade-in').forEach(el => {
                el.style.animationPlayState = 'paused';
                observer.observe(el);
            });

            // Close mobile menu when clicking a link
            document.querySelectorAll('.nav-links a').forEach(link => {
                link.addEventListener('click', () => {
                    document.getElementById('navLinks').classList.remove('active');
                });
            });
        });
    </script>

    <!-- Podcast Transcripts Data -->
    <script src="../assets/js/podcast_transcripts.js"></script>

    <!-- Enhanced Search System -->
    <script src="../assets/js/enhanced-search.js"></script>
    <script src="../assets/js/search-ui.js"></script>

    <!-- Scroll to Content Script -->
    <script src="../assets/js/scroll-to-content.js"></script>

    <!-- Theme Manager Script -->
    <script src="../assets/js/theme-manager.js"></script>
</body>
</html>
